[![Python](https://img.shields.io/badge/Python-3.12+-2d91f5?logo=python&logoColor=FFD43B&style=for-the-badge)](https://www.python.org/)
[![Aiogram](https://img.shields.io/badge/Aiogram-3.x-2d91f5?logo=telegram&style=for-the-badge)](https://aiogram.dev/)
[![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0-D71F00?logo=sqlalchemy&style=for-the-badge)](https://www.sqlalchemy.org/)
[![PostgreSQL](https://img.shields.io/badge/Postgresql-16.0-2d91f5?logo=postgresql&logoColor=white&style=for-the-badge)](https://www.postgresql.org/)
[![Redis](https://img.shields.io/badge/Redis-latest-DC382D?logo=redis&style=for-the-badge)](https://redis.io/)
[![Pydantic](https://img.shields.io/badge/Pydantic-2.11.5-E92063?logo=pydantic&style=for-the-badge)](https://docs.pydantic.dev/latest/)
[![Alembic](https://img.shields.io/badge/Alembic-1.16.1-2d91f5?style=for-the-badge)](https://redis.io/)
[![Poetry](https://img.shields.io/badge/Poetry-2.1.3-2d91f5?logo=poetry&style=for-the-badge)](https://python-poetry.org/)
[![Mypy](https://img.shields.io/badge/Mypy-1.6-2d91f5?logo=python&logoColor=59acff&style=for-the-badge)](https://mypy-lang.org/)
[![Ruff](https://img.shields.io/badge/Ruff-0.11.12-green?logo=ruff&style=for-the-badge)](https://docs.astral.sh/ruff/)
[![Pre-commit](https://img.shields.io/badge/Pre--commit-4.2.0-yellow?logo=precommit&style=for-the-badge)](https://pre-commit.com/)
[![Docker](https://img.shields.io/badge/Docker-24.0-2d91f5?logo=docker&style=for-the-badge)](https://www.docker.com/)
[![Pytest](https://img.shields.io/badge/Pytest-8.4.0-2d91f5?logo=pytest&style=for-the-badge)](https://docs.pytest.org/)
[![LICENSE](https://img.shields.io/badge/license-mit-green?style=for-the-badge)](LICENSE.txt)

# Aiogram Base App üöÄ

–õ–µ–≥–∫–∏–π –∏ –≥–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —à–∞–±–ª–æ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç–∞ –Ω–∞ [**Aiogram**](https://github.com/aiogram/aiogram). –ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–∏–Ω—É—Ç—ã!

---

## üåü –ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω?

–≠—Ç–æ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä ‚Äî –≤–∞—à –±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é –º–æ—â–Ω—ã—Ö Telegram-–±–æ—Ç–æ–≤ —Å
[**Aiogram**](https://github.com/aiogram/aiogram). –ó–∞–±—É–¥—å—Ç–µ –æ:

- üîß –†—É—Ç–∏–Ω–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚öôÔ∏è –°–ª–æ–∂–Ω–æ—Å—Ç—è—Ö —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
- üìÇ –¢—Ä–∞—Ç–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –∏ –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- üõ†Ô∏è **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥** —Å [**Mypy**](https://github.com/python/mypy) –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤
- üßº **–ß–∏—Å—Ç—ã–π –∫–æ–¥** –±–ª–∞–≥–æ–¥–∞—Ä—è –ª–∏–Ω—Ç–µ—Ä—É –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—É [**Ruff**](https://github.com/astral-sh/ruff)
- üì¶ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏** —Å –ø–æ–º–æ—â—å—é [**Poetry**](https://github.com/python-poetry/poetry) –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- üóÉÔ∏è **–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º [**SQLAlchemy**](https://github.com/sqlalchemy/sqlalchemy) –∏
  [**Asyncpg**](https://magicstack.github.io/asyncpg/current/) –¥–ª—è [**PostgreSQL**](https://www.postgresql.org/)
- üîÑ **–ü—Ä–æ—Å—Ç—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** —Å [**Alembic**](https://github.com/sqlalchemy/alembic)
- ‚ö° **–ë—ã—Å—Ç—Ä–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å [**Redis**](https://github.com/redis/redis-py) –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è FSM (storage)
- ‚öôÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è** —Å –ø–æ–º–æ—â—å—é [**Pydantic-settings**](https://github.com/pydantic/pydantic-settings)
- üìÅ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏** —á–µ—Ä–µ–∑ [**Aiofiles**](https://github.com/Tinche/aiofiles) –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üõ°Ô∏è **–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞** —Å [**Pre-commit**](https://github.com/pre-commit/pre-commit) —Ö—É–∫–∞–º–∏ –∏ Ruff –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã
  –≤–∞—à–∏—Ö –∫–æ–º–º–∏—Ç–æ–≤
- ‚úÖ **–¢–µ—Å—Ç—ã** —Å [**pytest**](https://github.com/pytest-dev/pytest) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–≥–æ –∫–æ–¥–∞
- üê≥ **Docker-–æ–±—Ä–∞–∑** –¥–ª—è:
    - [**PostgreSQL**](https://hub.docker.com/_/postgres)
    - [**Redis**](https://hub.docker.com/_/redis)

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- üêç Python 3.12+
- üì¶ [Poetry](https://python-poetry.org/docs/#installation) (*–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ*, –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)
- üê≥ [Docker](https://www.docker.com/get-started) (*–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ*, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ **Postgres** –∏ **Redis**)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è üì•

- –ß–µ—Ä–µ–∑ `HTTPS`:
  ```bash
  git clone https://github.com/eugeneliukindev/Aiogram-Base-App.git
  ```

- –ß–µ—Ä–µ–∑ `SSH` (*—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è*):
   ```bash
   git clone git@github.com:eugeneliukindev/Aiogram-Base-App.git
   ```

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚ûï

- –ß–µ—Ä–µ–∑ `Poetry` (*—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è*):
  - –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:
    ```bash
    poetry install
    ```
  
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ main –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
    ```bash
    poetry install --only main
    ```

- –ß–µ—Ä–µ–∑ `pip`:
  ```bash
  pip install -r requirements.txt
  ```

---

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è üîë

–ó–∞–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ [.env-template](.env-template) –≤ `.env`

### 4. –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ üê≥
```bash
docker compose --profile default up -d 
```

### 5. –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic üîÑ
```bash
alembic upgrade head
```

---

### 6. –ó–∞–ø—É—Å–∫ –ë–æ—Ç–∞ üöÄ
```bash
python main.py
```

---

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ üõ†Ô∏è

- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `mypy .` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `ruff check .` –¥–ª—è linting
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `ruff format .` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `docker compose --profile test up -d` & `pytest` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ 

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ üìå

- **–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –ø—Ä–æ `.env`** ‚ö†Ô∏è

  –§–∞–π–ª `.env` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–∫–µ–Ω—ã –∏ —Ç.–ø. –†–∞–¥–∏
  –ø—Ä–∏–º–µ—Ä–∞ –æ–Ω –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`. –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å `.env` –≤ `.gitignore`,
  —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
  ```bash
  echo ".env" >> .gitignore
  ```

- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è pre-commit —Ö—É–∫–æ–≤**

  –ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `dev` –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Æ –≤–º–µ—Å—Ç–µ —Å —ç—Ç–∏–º –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω `pre-commit`, —á—Ç–æ–±—ã –µ–≥–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –Ω—É–∂–Ω–æ:
  ```bash
  pre-commit install
  ```

---

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç ü§ù

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –ª—é–±—ã–µ —É–ª—É—á—à–µ–Ω–∏—è! –ß—Ç–æ–±—ã –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥:

1. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (`git checkout -b feature/YourFeature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add YourFeature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–µ—Ç–∫—É –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (`git push origin feature/YourFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

---

## –õ–∏—Ü–µ–Ω–∑–∏—è üìÑ

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE.txt).

---

–£–¥–∞—á–Ω–æ–≥–æ –∫–æ–¥–∏–Ω–≥–∞! üéâ –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.